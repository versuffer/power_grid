from django.conf import settings
from django.db import models

from .choices import (DEPARTMENTS, ELEC_SAFETY_GRADES, FOOTWEAR_SIZE, GRADES,
                      PERSONNEL_TYPE, POSITIONS, SUIT_SIZE_HEIGHT,
                      SUIT_SIZE_WIDTH, UNITS, VOLTAGE_LEVEL_GRADE)


class Right(models.Model):
    short_name = models.CharField(max_length=255)
    long_name = models.CharField(max_length=510)
    is_additional = models.BooleanField(default=False)


class Employee(models.Model):
    first_name = models.CharField(max_length=255)
    middle_name = models.CharField(max_length=255)
    last_name = models.CharField(max_length=255)
    individual_number = models.PositiveIntegerField()
    department = models.CharField(max_length=255, choices=DEPARTMENTS)
    unit = models.CharField(max_length=255, choices=UNITS)
    supervisors = models.ManyToManyField(to=settings.AUTH_USER_MODEL, related_name='subordinates')
    position = models.CharField(max_length=255, choices=POSITIONS)
    grade = models.CharField(max_length=10, choices=GRADES)
    personnel_type = models.CharField(max_length=255, choices=PERSONNEL_TYPE)
    elec_safety_grade = models.CharField(max_length=3, choices=ELEC_SAFETY_GRADES)
    voltage_level_grade = models.CharField(max_length=255, choices=VOLTAGE_LEVEL_GRADE)
    rights = models.ManyToManyField(to=Right, related_name='owners')
    last_exam_date = models.DateField()
    suit_size_height_summer = models.CharField(max_length=255, choices=SUIT_SIZE_HEIGHT)
    suit_size_height_winter = models.CharField(max_length=255, choices=SUIT_SIZE_HEIGHT)
    suit_size_width_summer = models.CharField(max_length=255, choices=SUIT_SIZE_WIDTH)
    suit_size_width_winter = models.CharField(max_length=255, choices=SUIT_SIZE_WIDTH)
    footwear_size_summer = models.CharField(max_length=255, choices=FOOTWEAR_SIZE)
    footwear_size_winter = models.CharField(max_length=255, choices=FOOTWEAR_SIZE)
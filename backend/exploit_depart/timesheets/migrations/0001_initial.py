# Generated by Django 4.1.7 on 2023-05-04 15:36

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        ("workdays", "0001_initial"),
        ("employees", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="TimeSheet",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("timesheet_name", models.CharField(max_length=255, unique=True)),
                (
                    "period_start",
                    models.DateField(verbose_name="Начало учётного периода"),
                ),
                ("period_end", models.DateField(verbose_name="Конец учётного периода")),
                (
                    "organization_name",
                    models.CharField(
                        default='Акционерное общество "ОРЭС-Петрозавосдк"',
                        max_length=255,
                    ),
                ),
                (
                    "department",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("РОКЛ", "Район обслуживания кабельных линий"),
                            (
                                "РОВЛиП",
                                "Район обслуживания воздушных линий и подстанций",
                            ),
                            ("СРЗА", "Служба релейной защиты и автоматики"),
                            ("ЭТД", "Электротехническая лаборатория"),
                        ],
                        max_length=255,
                        null=True,
                        verbose_name="Район",
                    ),
                ),
                (
                    "unit",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Уч. ВЛ", "Участок воздушных линий"),
                            (
                                "Уч. ТП-РП",
                                "Участок трансформаторных подстанций и распределительных пунктов",
                            ),
                            (
                                "Уч. надзор",
                                "Участок по надзору за трассами кабельных сетей",
                            ),
                            ("Уч. НВ", "Участок низковольтный"),
                            ("Уч. ВВ", "Участок высоковольтный"),
                            ("Уч. КШ", "Участок кабельных шкафов"),
                            ("Уч. универ.", "Участок универсальный"),
                        ],
                        max_length=255,
                        null=True,
                        verbose_name="Участок",
                    ),
                ),
                (
                    "department_supervisor",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="signed_timesheets",
                        to="employees.employee",
                        verbose_name="Ответственное лицо",
                    ),
                ),
                (
                    "employees",
                    models.ManyToManyField(
                        related_name="timesheets",
                        to="employees.employee",
                        verbose_name="Работник",
                    ),
                ),
                (
                    "person_in_charge",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_timesheets",
                        to="employees.employee",
                        verbose_name="Ответственное лицо",
                    ),
                ),
                (
                    "workdays",
                    models.ManyToManyField(
                        blank=True,
                        related_name="timesheets",
                        to="workdays.workday",
                        verbose_name="Календарные дни",
                    ),
                ),
            ],
            options={
                "verbose_name": "Taбель",
            },
        ),
    ]

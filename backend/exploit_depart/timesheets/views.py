from drf_spectacular.utils import extend_schema
from rest_framework.generics import ListAPIView
from rest_framework.mixins import RetrieveModelMixin, UpdateModelMixin
from rest_framework.viewsets import GenericViewSet

from .models import TimeSheet, WorkDay
from .serializers import TimeSheetListSerializer, WorkDayDetailSerializer


@extend_schema(tags=["Workdays"])
class RetrieveUpdateWorkDayViewSet(
    GenericViewSet, RetrieveModelMixin, UpdateModelMixin
):
    queryset = WorkDay.objects.all()
    serializer_class = WorkDayDetailSerializer


@extend_schema(tags=["Timesheets"])
class ListTimeSheetView(ListAPIView):
    queryset = TimeSheet.objects.all()
    serializer_class = TimeSheetListSerializer

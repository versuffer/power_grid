from common.data.exceptions import validation_default_data


class ValidatorMixin:
    @staticmethod
    def get_default_error_dict():
        return validation_default_data.copy()

    def get_from_dict_or_db(self, field_name: str):
        try:
            return self.data[field_name]
        except KeyError:
            return getattr(self.serializer_inst.instance, field_name)

    def __init__(self, serializer_inst, data):
        self.serializer_inst = serializer_inst
        self.data = data
        self.error_dict = None

from djoser.views import UserViewSet

from common.views.mixins import MultiSerializerMixin
from users.serializers import UserListSerializer, UserRetrieveSerializer

from .models import User


class ExtendedUserViewSet(MultiSerializerMixin, UserViewSet):
    queryset = User.objects.select_related("profile").all()
    lookup_field = "pk"
    serializer_action_classes = {
        "list": UserListSerializer,
        "retrieve": UserRetrieveSerializer,
    }

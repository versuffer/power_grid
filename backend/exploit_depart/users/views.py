from djoser.views import UserViewSet

from common.views.mixins import MultiSerializerMixin
from users.serializers import UserListSerializer, UserUpdateSerializer

from .models import User


class ExtendedUserViewSet(MultiSerializerMixin, UserViewSet):
    queryset = User.objects.select_related("profile").all()
    serializer_action_classes = {
        "list": UserListSerializer,
        "update": UserUpdateSerializer,
        "partial_update": UserUpdateSerializer,
    }
